(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const k={};function De(e){k.context=e}const Be=(e,t)=>e===t,z={equals:Be};let ye=Se;const A=1,G=2,we={owned:null,cleanups:null,context:null,owner:null};var C=null;let P=null,v=null,y=null,T=null,le=0;function _e(e,t){const n=v,s=C,i=e.length===0,l=i?we:{owned:null,cleanups:null,context:null,owner:t||s},o=i?e:()=>e(()=>X(()=>re(l)));C=l,v=null;try{return B(o,!0)}finally{v=n,C=s}}function b(e,t){t=t?Object.assign({},z,t):z;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),Ce(n,i));return[pe.bind(n),s]}function S(e,t,n){const s=oe(e,t,!1,A);D(s)}function J(e,t,n){ye=Ue;const s=oe(e,t,!1,A);s.user=!0,T?T.push(s):D(s)}function Z(e,t,n){n=n?Object.assign({},z,n):z;const s=oe(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,D(s),pe.bind(s)}function X(e){const t=v;v=null;try{return e()}finally{v=t}}function pe(){const e=P;if(this.sources&&(this.state||e))if(this.state===A||e)D(this);else{const t=y;y=null,B(()=>V(this),!1),y=t}if(v){const t=this.observers?this.observers.length:0;v.sources?(v.sources.push(this),v.sourceSlots.push(t)):(v.sources=[this],v.sourceSlots=[t]),this.observers?(this.observers.push(v),this.observerSlots.push(v.sources.length-1)):(this.observers=[v],this.observerSlots=[v.sources.length-1])}return this.value}function Ce(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&B(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i],o=P&&P.running;o&&P.disposed.has(l),(o&&!l.tState||!o&&!l.state)&&(l.pure?y.push(l):T.push(l),l.observers&&ke(l)),o||(l.state=A)}if(y.length>1e6)throw y=[],new Error},!1)),t}function D(e){if(!e.fn)return;re(e);const t=C,n=v,s=le;v=C=e,Fe(e,e.value,s),v=n,C=t}function Fe(e,t,n){let s;try{s=e.fn(t)}catch(i){e.pure&&(e.state=A),xe(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ce(e,s):e.value=s,e.updatedAt=n)}function oe(e,t,n,s=A,i){const l={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:null,pure:n};return C===null||C!==we&&(C.owned?C.owned.push(l):C.owned=[l]),l}function q(e){const t=P;if(e.state===0||t)return;if(e.state===G||t)return V(e);if(e.suspense&&X(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<le);)(e.state||t)&&n.push(e);for(let s=n.length-1;s>=0;s--)if(e=n[s],e.state===A||t)D(e);else if(e.state===G||t){const i=y;y=null,B(()=>V(e,n[0]),!1),y=i}}function B(e,t){if(y)return e();let n=!1;t||(y=[]),T?n=!0:T=[],le++;try{const s=e();return He(n),s}catch(s){y||(T=null),xe(s)}}function He(e){if(y&&(Se(y),y=null),e)return;const t=T;T=null,t.length&&B(()=>ye(t),!1)}function Se(e){for(let t=0;t<e.length;t++)q(e[t])}function Ue(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:q(s)}for(k.context&&De(),t=0;t<n;t++)q(e[t])}function V(e,t){const n=P;e.state=0;for(let s=0;s<e.sources.length;s+=1){const i=e.sources[s];i.sources&&(i.state===A||n?i!==t&&q(i):(i.state===G||n)&&V(i,t))}}function ke(e){const t=P;for(let n=0;n<e.observers.length;n+=1){const s=e.observers[n];(!s.state||t)&&(s.state=G,s.pure?y.push(s):T.push(s),s.observers&&ke(s))}}function re(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const l=i.pop(),o=n.observerSlots.pop();s<i.length&&(l.sourceSlots[o]=s,i[s]=l,n.observerSlots[s]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)re(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function ze(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function xe(e){throw e=ze(e),e}function $(e,t){return X(()=>e(t||{}))}function Ge(e,t,n){let s=n.length,i=t.length,l=s,o=0,r=0,a=t[i-1].nextSibling,c=null;for(;o<i||r<l;){if(t[o]===n[r]){o++,r++;continue}for(;t[i-1]===n[l-1];)i--,l--;if(i===o){const f=l<s?r?n[r-1].nextSibling:n[l-r]:a;for(;r<l;)e.insertBefore(n[r++],f)}else if(l===r)for(;o<i;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[l-1]&&n[r]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[r++],t[o++].nextSibling),e.insertBefore(n[--l],f),t[i]=n[l]}else{if(!c){c=new Map;let h=r;for(;h<l;)c.set(n[h],h++)}const f=c.get(t[o]);if(f!=null)if(r<f&&f<l){let h=o,u=1,d;for(;++h<i&&h<l&&!((d=c.get(t[h]))==null||d!==f+u);)u++;if(u>f-r){const m=t[o];for(;r<f;)e.insertBefore(n[r++],m)}else e.replaceChild(n[r++],t[o++])}else o++;else t[o++].remove()}}}const de="_$DX_DELEGATE";function qe(e,t,n,s={}){let i;return _e(l=>{i=l,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{i(),t.textContent=""}}function w(e,t,n){const s=document.createElement("template");s.innerHTML=e;let i=s.content.firstChild;return n&&(i=i.firstChild),i}function Ee(e,t=window.document){const n=t[de]||(t[de]=new Set);for(let s=0,i=e.length;s<i;s++){const l=e[s];n.has(l)||(n.add(l),t.addEventListener(l,We))}}function j(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function x(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ve(e,t,n,s){if(s)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=l=>i.call(e,n[1],l))}else e.addEventListener(t,n)}function O(e,t,n){if(!t)return n?j(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let i,l;for(l in n)t[l]==null&&s.removeProperty(l),delete n[l];for(l in t)i=t[l],i!==n[l]&&(s.setProperty(l,i),n[l]=i);return n}function he(e,t,n){return X(()=>e(t,n))}function g(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return W(e,t,s,n);S(i=>W(e,t(),i,n),s)}function We(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),k.registry&&!k.done&&(k.done=!0,document.querySelectorAll("[id^=pl-]").forEach(s=>s.remove()));n;){const s=n[t];if(s&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?s.call(n,i,e):s.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function W(e,t,n,s,i){for(k.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(k.context)return n;if(l==="number"&&(t=t.toString()),o){let r=n[0];r&&r.nodeType===3?r.data=t:r=document.createTextNode(t),n=I(e,n,s,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean"){if(k.context)return n;n=I(e,n,s)}else{if(l==="function")return S(()=>{let r=t();for(;typeof r=="function";)r=r();n=W(e,r,n,s)}),()=>n;if(Array.isArray(t)){const r=[],a=n&&Array.isArray(n);if(ee(r,t,n,i))return S(()=>n=W(e,r,n,s,!0)),()=>n;if(k.context){if(!r.length)return n;for(let c=0;c<r.length;c++)if(r[c].parentNode)return n=r}if(r.length===0){if(n=I(e,n,s),o)return n}else a?n.length===0?ge(e,r,s):Ge(e,n,r):(n&&I(e),ge(e,r));n=r}else if(t instanceof Node){if(k.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=I(e,n,s,t);I(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ee(e,t,n,s){let i=!1;for(let l=0,o=t.length;l<o;l++){let r=t[l],a=n&&n[l];if(r instanceof Node)e.push(r);else if(!(r==null||r===!0||r===!1))if(Array.isArray(r))i=ee(e,r,a)||i;else if(typeof r=="function")if(s){for(;typeof r=="function";)r=r();i=ee(e,Array.isArray(r)?r:[r],Array.isArray(a)?a:[a])||i}else e.push(r),i=!0;else{const c=String(r);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return i}function ge(e,t,n=null){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function I(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const r=t[o];if(i!==r){const a=r.parentNode===e;!l&&!o?a?e.replaceChild(i,r):e.insertBefore(i,n):a&&r.remove()}else l=!0}}else e.insertBefore(i,n);return[i]}const Qe=w("<section></section>"),Xe=e=>{var h;const{route:t}=Me,n=(h=e.class)!=null?h:"absolute inset-0 flex flex-col items-stretch",s=()=>n+(l()?" animate-in":"")+(o()?" animate-out":""),i=()=>e.path.split("/").pop(),l=()=>t().firstDifferent[1]===i(),o=()=>t().firstDifferent[0]===i();let r=setTimeout(()=>{},0);const a=()=>{var d,m;let u=!1;return e.strict?u=t().current===e.path:u=t().current.startsWith(e.path),u?(d=e.onOpen)==null||d.call(e):(m=e.onClose)==null||m.call(e),u},[c,f]=b(!1);return J(()=>{a()?(f(!0),clearTimeout(r)):r=setTimeout(()=>{f(!1)},500)}),Z((()=>{const u=Z(()=>!!c());return()=>u()&&(()=>{const d=Qe.cloneNode(!0);return g(d,()=>e.children),S(()=>x(d,s())),d})()})())},Ke=e=>{let t=[];return e.split("/").forEach(n=>{n===".."?t.pop():t.push(n)}),`${t.join("/")}`},Ye=(e,t)=>{const n=e.split("/"),s=t.split("/"),i=Math.max(n.length,s.length);for(let l=0;l<i;++l)if(n[l]!=s[l])return[n[l],s[l]];return[void 0,void 0]},Je=()=>{const[e,t]=b({previous:"/",current:"/",firstDifferent:[void 0,void 0]});return{route:e,navigate:s=>{const i=e().current,l=Ke(s);t({previous:i,current:l,firstDifferent:Ye(i,l)})}}},Me=_e(Je),Ze="_button_rpt0d_1",et="_isGhost_rpt0d_29",tt="_isHalf_rpt0d_38",nt="_isSecondary_rpt0d_42",st="_isSolid_rpt0d_46",L={button:Ze,isGhost:et,isHalf:tt,isSecondary:nt,isSolid:st},it=w('<button><div class="flex items-center justify-center flex-1 gap-m0"></div></button>'),Q=e=>(()=>{const t=it.cloneNode(!0),n=t.firstChild;return Ve(t,"click",e.onClick,!0),g(n,()=>e.children),S(s=>{var a,c;const i=[(a=e.class)!=null?a:"round-m0 pd-m0",L.button,(()=>e.style==="solid"?L.isSolid:e.style==="secondary"?L.isSecondary:e.style==="half"?L.isHalf:L.isGhost)()].join(" "),l=(c=e.type)!=null?c:"button",o=e.disabled,r=`${e.hue!=null?`--hue: ${e.hue};`:""}`;return i!==s._v$&&x(t,s._v$=i),l!==s._v$2&&j(t,"type",s._v$2=l),o!==s._v$3&&(t.disabled=s._v$3=o),s._v$4=O(t,r,s._v$4),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})();Ee(["click"]);const lt=w("<div><canvas></canvas></div>"),te=e=>{const[t,n]=b(0);let s,i;const l=()=>{var o;n((o=s==null?void 0:s.offsetWidth)!=null?o:0)};return setTimeout(l,0),J(()=>{if(!i)return;i.width=t(),i.height=t();const o=i.getContext("2d");!o||e.render(o)}),J(()=>{var r;const o=(r=e.eventListeners)!=null?r:{};Object.keys(o).forEach(a=>{i==null||i.addEventListener(a,o[a])})}),window.addEventListener("resize",l),(()=>{const o=lt.cloneNode(!0),r=o.firstChild,a=s;typeof a=="function"?he(a,o):s=o;const c=i;return typeof c=="function"?he(c,r):i=r,S(()=>x(o,e.class)),o})()},ot="_bg_3nc5v_1",rt="_fill_3nc5v_23",at="_slider_3nc5v_32",K={bg:ot,fill:rt,slider:at},ct=w('<div><div></div><input type="range"></div>'),H=e=>(()=>{const t=ct.cloneNode(!0),n=t.firstChild,s=n.nextSibling;return s.$$input=i=>{e.signal[1](Number(i.target.value))},S(i=>{var u,d,m;const l=K.bg,o=K.fill,r=`width: calc(${e.signal[0]()*100}%`,a=K.slider,c=(u=e.min)!=null?u:0,f=(d=e.max)!=null?d:1,h=(m=e.step)!=null?m:1;return l!==i._v$&&x(t,i._v$=l),o!==i._v$2&&x(n,i._v$2=o),i._v$3=O(n,r,i._v$3),a!==i._v$4&&x(s,i._v$4=a),c!==i._v$5&&j(s,"min",i._v$5=c),f!==i._v$6&&j(s,"max",i._v$6=f),h!==i._v$7&&j(s,"step",i._v$7=h),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),S(()=>s.value=e.signal[0]()),t})();Ee(["input"]);const ft="_label_1lalj_1",U={label:ft},ut=w('<div class="flex flex-col gap-s+"><label><span>Intensity&nbsp;<span class="text-fg-3">deg (<!>)</span></span></label><label><span>LF boost&nbsp;<span class="text-fg-3"></span></span></label><label><span>LF boost curv.&nbsp;<span class="text-fg-3"></span></span></label><label><span>High-pass freq.&nbsp;<span class="text-fg-3"></span></span></label></div>'),dt=e=>(()=>{const t=ut.cloneNode(!0),n=t.firstChild,s=n.firstChild,i=s.firstChild,l=i.nextSibling,o=l.firstChild,r=o.nextSibling;r.nextSibling;const a=n.nextSibling,c=a.firstChild,f=c.firstChild,h=f.nextSibling,u=a.nextSibling,d=u.firstChild,m=d.firstChild,N=m.nextSibling,E=u.nextSibling,F=E.firstChild,je=F.firstChild,Oe=je.nextSibling;return g(l,()=>Math.round(e.i[0]()*45),o),g(l,()=>e.i[0](),r),g(n,$(H,{step:.01,get signal(){return e.i}}),null),g(h,()=>e.h[0]()),g(a,$(H,{step:.01,get signal(){return e.h}}),null),g(N,()=>e.a[0]()),g(u,$(H,{step:.01,get signal(){return e.a}}),null),g(Oe,()=>e.b[0]()),g(E,$(H,{step:.01,get signal(){return e.b}}),null),S(M=>{const ae=U.label,ce=U.label,fe=U.label,ue=U.label;return ae!==M._v$&&x(n,M._v$=ae),ce!==M._v$2&&x(a,M._v$2=ce),fe!==M._v$3&&x(u,M._v$3=fe),ue!==M._v$4&&x(E,M._v$4=ue),M},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})(),ht=(e,t)=>{var l,o,r,a,c,f,h;let n=t.dark.s,s=t.dark.l,i=(l=t.dark.a)!=null?l:100;return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&(n=(r=(o=t.light)==null?void 0:o.s)!=null?r:n,s=(c=(a=t.light)==null?void 0:a.l)!=null?c:s,i=(h=(f=t.light)==null?void 0:f.a)!=null?h:i),`hsla(${e}, ${n}%, ${s}%, ${i}%)`},Te={wrapp:{colors:{static:{abs:{base:{dark:{s:0,l:0}},on:[{dark:{s:10,l:100}}]},def:{base:{dark:{s:10,l:5}},on:[{dark:{s:10,l:90}},{dark:{s:20,l:80}},{dark:{s:20,l:60}},{dark:{s:20,l:40}},{dark:{s:10,l:10}}]},srf:{base:{dark:{s:40,l:20,a:10}},on:[{dark:{s:100,l:80}},{dark:{s:40,l:60}},{dark:{s:20,l:40}}]},srf2:{base:{dark:{s:40,l:40,a:20}},on:[{dark:{s:20,l:80}}]}},interactive:{int:{base:{dark:{s:100,l:60},light:{l:60}},on:[{dark:{s:100,l:10},light:{l:10}},{dark:{s:100,l:20},light:{l:10}},{dark:{s:100,l:40},light:{l:10}}]},int2:{base:{dark:{s:80,l:40,a:40},light:{s:90}},on:[{dark:{s:100,l:80}},{dark:{s:100,l:60}}]},int3:{base:{dark:{s:60,l:60,a:10}},on:[{dark:{s:10,l:80}}]},int4:{base:{dark:{s:20,l:20,a:20}},on:[{dark:{s:10,l:80}}]}}},sizes:{min:"1px",0:"0rem","s--":"0.2rem","s-":"0.4rem",s:"0.5rem","s+":"0.6rem","s++":"0.8rem",m0:"1rem","m--":"2rem","m-":"4rem",m:"5rem","m+":"6rem","m++":"8rem",l0:"10rem","l--":"20rem","l-":"40rem",l:"50rem","l+":"60rem","l++":"80rem",xl0:"100rem"}}},_=e=>e.filter(Boolean).join("-"),ne=(e,t,n,s,i)=>[i(_([e,t]),_([n,s])),i(_([e,"b",t]),_([n,"block",s])),i(_([e,"bs",t]),_([n,"block-start",s])),i(_([e,"be",t]),_([n,"block-end",s])),i(_([e,"i",t]),_([n,"inline",s])),i(_([e,"is",t]),_([n,"inline-start",s])),i(_([e,"ie",t]),_([n,"inline-end",s]))],se=e=>`hsla(var(--hue), var(--col-${e}-s), var(--col-${e}-l), var(--col-${e}-a));`,ie=e=>`hsl(var(--hue), var(--col-${e}-s), calc(var(--col-${e}-l) + var(--highlight)), var(--col-${e}-a));`,be=(e,t)=>[new RegExp(`^(${e})-(.+)$`),(n,{theme:s})=>{const i={};return s.wrapp.colors.static[n[2]]!==void 0&&(i[t]=se(n[2])),s.wrapp.colors.interactive[n[2]]!==void 0&&(i[t]=ie(n[2])),i}],gt=e=>[new RegExp(`^(${e})-(.+)$`),(t,{theme:n})=>{const s={},i=n.wrapp.colors.static[t[2]];i!==void 0&&(s.background=se(t[2]),i.on.forEach((o,r)=>{s[`--fg${r}`]=se(`on-${t[2]}-${r}`)}));const l=n.wrapp.colors.interactive[t[2]];return l!==void 0&&(s.background=ie(t[2]),l.on.forEach((o,r)=>{s[`--fg${r}`]=ie(`on-${t[2]}-${r}`)})),s.color="var(--fg0)",s}],me=(e,t)=>[new RegExp(`^(${e})-(.+)$`),(n,{theme:s})=>{const i={};return i[t]=`var(--fg${n[2]})`,i}],p=(e,t)=>[new RegExp(`^(${e})-(.+)$`),(n,{theme:s})=>{const i={};return i[t]=s.wrapp.sizes[n[2]],i}],Y=(e,t,n,s)=>ne(e,t,n,s,p);[new RegExp("^(hue)-(.+)$"),gt("bg"),...ne("border","color","border","color",be),...ne("border","color-fg","border","color",me),be("text","color"),me("text-fg","color"),p("text","font-size"),p("width","width"),p("height","height"),p("min-width","min-width"),p("min-height","min-height"),p("max-width","max-width"),p("max-height","max-height"),...Y("inset","","inset",""),...Y("pd","","padding",""),...Y("mg","","margin",""),p("round","border-radius"),p("gap","gap"),p("gap-col","column-gap"),p("gap-row","row-gap")];const bt=e=>Number(e.slice(0,-3))*parseFloat(getComputedStyle(document.documentElement).fontSize),Ae=(e,t,n)=>e+(t-e)*n,Ne=e=>{let t=0;return e.map(n=>{const s=[n[0]-t,n[1]];return t+=s[0],s})},mt=(e,t)=>{let n=e[0][0];for(let s=0;s<e.length-1;++s)if(n+=e[s+1][0],t<n)return[e[s],e[s+1],n];return[e[e.length-2],e[e.length-1],n]},Pe=(e,t)=>{let[n,s,i]=mt(e,t),l=i-s[0],o=(t-l)/s[0];return Ae(n[1],s[1],o)},Ie=(e,t)=>{const n=i=>[...Array(i+1).fill(1/(i+1)),...Array(t-i-1).fill(0)],s=[];for(let i=0;i<t;++i)s[i]=n(i);for(let i=t-1;i>=1;--i){const l=s[i],o=s[i-1],r=(i-1)/(t-2),a=e(r);s[i-1]=o.map((c,f)=>Ae(o[f],l[f],a))}return s[0]},vt=(e,t)=>Ie(n=>Pe(e,n),t),Le=(e,t,n)=>{const s=e.canvas.width-1,i=e.canvas.height-1;e.strokeStyle=n;const l=Ne(t);{e.beginPath();for(let o=0;o<s;++o){const r=Pe(l,o/s);e.lineTo(o,r*i)}e.stroke()}},$t=(e,t,n)=>{const i=Ne(t),l=vt(i,8),o=e.canvas.width-1,r=e.canvas.height-1;e.strokeStyle=n;for(let a=0;a<l.length-1;++a){const c=o/2,f=l[a],h=a/(l.length-1),u=Math.sin(h*Math.PI/2)*c*f,d=-Math.cos(h*Math.PI/2)*c*f,m=l[a+1],N=(a+1)/(l.length-1),E=Math.sin(N*Math.PI/2)*c*m,F=-Math.cos(N*Math.PI/2)*c*m;e.beginPath(),e.moveTo(o/2+u,r+d),e.lineTo(o/2+E,r+F),e.moveTo(o/2-u,r+d),e.lineTo(o/2-E,r+F),e.stroke()}},Re=e=>45+15*(1-e%3),R=e=>ht(Re(e),Te.wrapp.colors.interactive.int.base),yt=w('<p style="user-select: all"></p>'),wt=w("<div>[<!>,<!>]</div>"),_t=e=>{const t=()=>s=>{s.clearRect(0,0,s.canvas.width,s.canvas.height);const i=s.canvas.width,l=s.canvas.height;s.fillStyle="#fff2",s.fillRect(0,0,i,1),s.fillRect(0,0,1,l);const[o,r]=e.shape;Le(s,o(),R(e.colorI)),s.fillStyle="#fff";const a=bt(Te.wrapp.sizes["s--"]);o().forEach(c=>{s==null||s.beginPath(),s==null||s.arc(c[0]*i,c[1]*l,a,0,Math.PI*2),s==null||s.fill()})},n=()=>({contextmenu:s=>{s.preventDefault()},mousedown:s=>{const i=s.target;if(!i)return;const[l,o]=e.shape;s.cancelBubble=!0,s.stopPropagation(),s.preventDefault();var r=s.target.getBoundingClientRect(),a=s.clientX-r.left,c=s.clientY-r.top;const f=[a/i.width,c/i.height];let h=!0;l().forEach((u,d)=>{if(Math.sqrt(Math.pow(u[0]-f[0],2)+Math.pow(u[1]-f[1],2))<.1){switch(s.button){case 0:d===0?f[0]=0:d===l().length-1&&(f[0]=1),o(m=>(m[d]=f,[...m]));break;case 2:d>0&&d<l().length-1&&o(m=>(m.splice(d,1),[...m]));break}h=!1}}),h&&s.button===0&&o(u=>[...u,f].sort((d,m)=>d[0]-m[0]))}});return[$(te,{get render(){return t()},get eventListeners(){return n()}}),(()=>{const s=yt.cloneNode(!0);return g(s,()=>e.shape[0]().map(i=>(()=>{const l=wt.cloneNode(!0),o=l.firstChild,r=o.nextSibling,a=r.nextSibling,c=a.nextSibling;return c.nextSibling,g(l,()=>Math.round((i[0]+Number.EPSILON)*100)/100,r),g(l,()=>Math.round((i[1]+Number.EPSILON)*100)/100,c),l})())),s})()]},ve=(e,t,n,s,i)=>{const l=(1-(1-e)**(1/(1-s)))*n,r=.5+.5*Math.cos(Math.min(Math.max((e-i)/i,0),1)*Math.PI);return(t+(1-t)*l)*r},pt=(e,t,n,s)=>{const i=e.canvas.width,l=e.canvas.height;e.strokeStyle=s,e.beginPath(),e.lineTo(0,t(0)*l);for(let o=1;o<n;++o){const r=o/(n-1),a=t(r);e.lineTo(r*i,a*l)}e.stroke()},Ct=(e,t,n,s)=>{const i=e.canvas.width-1,l=e.canvas.height-1,o=Ie(t,n);e.strokeStyle=s;for(let r=0;r<o.length-1;++r){const a=i/2,c=o[r],f=r/(o.length-1),h=Math.sin(f*Math.PI/2)*a*c,u=-Math.cos(f*Math.PI/2)*a*c,d=o[r+1],m=(r+1)/(o.length-1),N=Math.sin(m*Math.PI/2)*a*d,E=-Math.cos(m*Math.PI/2)*a*d;e.beginPath(),e.moveTo(i/2+h,l+u),e.lineTo(i/2+N,l+E),e.moveTo(i/2-h,l+u),e.lineTo(i/2-N,l+E),e.stroke()}},St=e=>{const t=e.canvas.width-1,n=e.canvas.height-1;e.fillStyle="#fff2",e.fillRect(0,0,t,1),e.fillRect(0,0,1,n)},kt=(e,t)=>{const n=e.canvas.width-1,s=e.canvas.height-1;e.strokeStyle="#fff2";for(let i=0;i<t;++i){const l=i/(t-1),o=n/2,r=Math.sin(l*Math.PI/2)*o,a=-Math.cos(l*Math.PI/2)*o;e.beginPath(),e.moveTo(n/2,s),e.lineTo(n/2+r,s+a),i>0&&(e.moveTo(n/2,s),e.lineTo(n/2-r,s+a)),e.stroke()}},xt="_canvasCard_12ikt_1",$e={canvasCard:xt},Et=w('<div class="i-mdi-remove"></div>'),Mt=w('<div class="absolute transition i-mdi-eye"></div>'),Tt=w('<div class="absolute transition i-mdi-eye-off"></div>'),At=w('<div class="flex flex-col gap-s++ bg-srf pd-m0 round-m0 text-fg-1"><h3 class="text-fg-0 font-bold"></h3><div class="relative flex gap-s-"></div></div>'),Nt=w('<p class="text-fg-2 max-width-l0">.</p>'),Pt=w('<section class="flex flex-col items-stretch pd-m0 gap-s" style="overflow: scroll"></section>'),It=w('<section class="bg-def text-fg-2 pd-m0" style="overflow: scroll"></section>'),Lt=e=>(()=>{const t=At.cloneNode(!0),n=t.firstChild,s=n.nextSibling;return g(n,()=>e.curve.type),g(t,(()=>{const i=Z(()=>!!e.curve.comment);return()=>i()&&(()=>{const l=Nt.cloneNode(!0),o=l.firstChild;return g(l,()=>e.curve.comment,o),l})()})(),s),g(t,()=>e.children,s),g(s,$(Q,{get onClick(){return e.onRemove},hue:0,class:"flex-1 round-m0 pd-m0",get children(){return Et.cloneNode(!0)}}),null),g(s,$(Q,{onClick:()=>{e.curve.visible[1](i=>!i)},class:"flex-1 round-m0 pd-m0",get children(){return[(()=>{const i=Mt.cloneNode(!0);return S(l=>O(i,`opacity: ${e.curve.visible[0]()?1:0}`,l)),i})(),(()=>{const i=Tt.cloneNode(!0);return S(l=>O(i,`opacity: ${e.curve.visible[0]()?0:1}`,l)),i})()]}}),null),S(i=>O(t,`--hue: ${e.hue}`,i)),t})(),Rt=e=>{const[t,n]=b([{type:"point-based",comment:"Typycal blend curve in Unity",visible:b(!0),shape:b([[0,.3],[.1,.8],[1,.8]])},{type:"mathematical",comment:"Our method replicating the curve above",visible:b(!0),i:b(.3),bI:b(.71),bC:b(.95),hF:b(1)},{type:"point-based",comment:"Screen blur",visible:b(!1),shape:b([[0,1],[.5,1],[.5,0],[1,0]])},{type:"mathematical",comment:"Our method creating screen blur",visible:b(!1),i:b(1),bI:b(0),bC:b(0),hF:b(.33)}]),s=()=>l=>{l.clearRect(0,0,l.canvas.width,l.canvas.height),St(l),t().forEach((o,r)=>{if(!!o.visible[0]())switch(o.type){case"mathematical":pt(l,a=>ve(a,o.i[0](),o.bI[0](),o.bC[0](),o.hF[0]()),32,R(r));break;case"point-based":Le(l,o.shape[0](),R(r));break}})},i=()=>l=>{l.clearRect(0,0,l.canvas.width,l.canvas.height),kt(l,8),t().forEach((o,r)=>{if(!!o.visible[0]())switch(o.type){case"mathematical":Ct(l,a=>ve(a,o.i[0](),o.bI[0](),o.bC[0](),o.hF[0]()),8,R(r));break;case"point-based":$t(l,o.shape[0](),R(r));break}})};return $(Xe,{get path(){return e.path},class:"height-full flex items-stretch justify-center",get children(){return[(()=>{const l=Pt.cloneNode(!0);return g(l,()=>t().map((o,r)=>$(Lt,{get hue(){return Re(r)},curve:o,onRemove:()=>{n(a=>(a.splice(r,1),[...a]))},get children(){return(()=>{switch(o.type){case"mathematical":return $(dt,{get i(){return o.i},get h(){return o.bI},get a(){return o.bC},get b(){return o.hF}});case"point-based":return $(_t,{get shape(){return o.shape},colorI:r})}})()}})),null),g(l,$(Q,{onClick:()=>{n(o=>[...o,{type:"mathematical",visible:b(!0),i:b(.5),bI:b(.9),bC:b(.3),hF:b(.8)}])},children:"Add mathematical"}),null),g(l,$(Q,{onClick:()=>{n(o=>[...o,{type:"point-based",visible:b(!0),shape:b([[0,.5],[1,.5]])}])},children:"Add point-based"}),null),l})(),(()=>{const l=It.cloneNode(!0);return g(l,$(te,{get class(){return $e.canvasCard},get render(){return s()}}),null),g(l,$(te,{get class(){return $e.canvasCard},get render(){return i()}}),null),l})()]}})},jt=w('<main class="relative height-full" style="overflow: hidden"></main>'),Ot=()=>(Me.navigate("/visualizer"),(()=>{const e=jt.cloneNode(!0);return g(e,$(Rt,{path:"/visualizer"})),e})());qe(()=>$(Ot,{}),document.body);
