(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function e(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();const k={wrapp:{colors:{static:{abs:{base:{dark:{s:0,l:0}},on:[{dark:{s:10,l:100}}]},def:{base:{dark:{s:10,l:5}},on:[{dark:{s:10,l:90}},{dark:{s:20,l:80}},{dark:{s:20,l:60}},{dark:{s:20,l:40}},{dark:{s:10,l:10}}]},srf:{base:{dark:{s:40,l:20,a:10}},on:[{dark:{s:100,l:80}},{dark:{s:40,l:60}}]},srf2:{base:{dark:{s:40,l:40,a:20}},on:[{dark:{s:20,l:80}}]}},interactive:{int:{base:{dark:{s:100,l:60},light:{l:60}},on:[{dark:{s:100,l:10},light:{l:10}},{dark:{s:100,l:20},light:{l:10}},{dark:{s:100,l:40},light:{l:10}}]},int2:{base:{dark:{s:80,l:40,a:40},light:{s:90}},on:[{dark:{s:100,l:80}},{dark:{s:100,l:60}}]},int3:{base:{dark:{s:60,l:60,a:10}},on:[{dark:{s:10,l:80}}]},int4:{base:{dark:{s:20,l:20,a:20}},on:[{dark:{s:10,l:80}}]}}},sizes:{min:"1px",0:"0rem","s--":"0.2rem","s-":"0.4rem",s:"0.5rem","s+":"0.6rem","s++":"0.8rem",m0:"1rem","m--":"2rem","m-":"4rem",m:"5rem","m+":"6rem","m++":"8rem",l0:"10rem","l--":"20rem","l-":"40rem",l:"50rem","l+":"60rem","l++":"80rem",xl0:"100rem"}}},c=t=>t.filter(Boolean).join("-"),y=(t,s,o,e,n)=>[n(c([t,s]),c([o,e])),n(c([t,"b",s]),c([o,"block",e])),n(c([t,"bs",s]),c([o,"block-start",e])),n(c([t,"be",s]),c([o,"block-end",e])),n(c([t,"i",s]),c([o,"inline",e])),n(c([t,"is",s]),c([o,"inline-start",e])),n(c([t,"ie",s]),c([o,"inline-end",e]))],x=t=>`hsla(var(--hue), var(--col-${t}-s), var(--col-${t}-l), var(--col-${t}-a));`,v=t=>`hsl(var(--hue), var(--col-${t}-s), calc(var(--col-${t}-l) + var(--highlight)), var(--col-${t}-a));`,C=(t,s)=>[new RegExp(`^(${t})-(.+)$`),(o,{theme:e})=>{const n={};return e.wrapp.colors.static[o[2]]!==void 0&&(n[s]=x(o[2])),e.wrapp.colors.interactive[o[2]]!==void 0&&(n[s]=v(o[2])),n}],O=t=>[new RegExp(`^(${t})-(.+)$`),(s,{theme:o})=>{const e={},n=o.wrapp.colors.static[s[2]];n!==void 0&&(e.background=x(s[2]),n.on.forEach((i,r)=>{e[`--fg${r}`]=x(`on-${s[2]}-${r}`)}));const l=o.wrapp.colors.interactive[s[2]];return l!==void 0&&(e.background=v(s[2]),l.on.forEach((i,r)=>{e[`--fg${r}`]=v(`on-${s[2]}-${r}`)})),e.color="var(--fg0)",e}],R=(t,s)=>[new RegExp(`^(${t})-(.+)$`),(o,{theme:e})=>{const n={};return n[s]=`var(--fg${o[2]})`,n}],d=(t,s)=>[new RegExp(`^(${t})-(.+)$`),(o,{theme:e})=>{const n={};return n[s]=e.wrapp.sizes[o[2]],n}],b=(t,s,o,e)=>y(t,s,o,e,d);[new RegExp("^(hue)-(.+)$"),O("bg"),...y("border","color","border","color",C),...y("border","color-fg","border","color",R),C("text","color"),R("text-fg","color"),d("text","font-size"),d("width","width"),d("height","height"),d("min-width","min-width"),d("min-height","min-height"),...b("inset","","inset",""),...b("pd","","padding",""),...b("mg","","margin",""),d("round","border-radius"),d("gap","gap"),d("gap-col","column-gap"),d("gap-row","row-gap")];const T=t=>t*parseFloat(getComputedStyle(document.documentElement).fontSize),_=t=>Number(t.slice(0,-3))*parseFloat(getComputedStyle(document.documentElement).fontSize),I=t=>(t.width=T(Number(k.wrapp.sizes["l--"].slice(0,-3))),t.height=T(Number(k.wrapp.sizes["l--"].slice(0,-3))),t),F=(t,s,o)=>t+(s-t)*o,P=t=>{let s=0;return t.map(o=>{const e=[o[0]-s,o[1]];return s+=e[0],e})},q=(t,s)=>{let o=t[0][0];for(let e=0;e<t.length-1;++e)if(o+=t[e+1][0],s<o)return[t[e],t[e+1],o];return[t[t.length-2],t[t.length-1],o]},z=(t,s)=>{let[o,e,n]=q(t,s),l=n-e[0],i=(s-l)/e[0];return F(o[1],e[1],i)},A=(t,s)=>{const o=Array(s).fill(1);for(let e=o.length-1;e>=1;--e){let n=z(t,(e-1)/(o.length-1));for(let l=e;l<o.length;++l)o[l]*=n;o[e-1]*=1-n}return o},N=(t,s)=>{const e=t.getContext("2d");if(!e)throw Error("No context");const n=t.width,l=t.height,i=P(s),r=A(i,8);e.clearRect(0,0,n,l),e.strokeStyle="#fff2";for(let a=0;a<8;++a){const f=a/7,h=n/2,g=Math.sin(f*Math.PI/2)*h,u=-Math.cos(f*Math.PI/2)*h;e.beginPath(),e.moveTo(n/2,l),e.lineTo(n/2+g,l+u),a>0&&(e.moveTo(n/2,l),e.lineTo(n/2-g,l+u)),e.stroke()}e.strokeStyle="#fff4",r.forEach((a,f)=>{const h=f/(r.length-1),g=n/2,u=Math.sin(h*Math.PI/2)*g*a,p=-Math.cos(h*Math.PI/2)*g*a;e.beginPath(),e.moveTo(n/2,l),e.lineTo(n/2+u,l+p),f>0&&(e.moveTo(n/2,l),e.lineTo(n/2-u,l+p)),e.stroke()}),e.strokeStyle="#fff";for(let a=0;a<r.length-1;++a){const f=n/2,h=r[a],g=a/(r.length-1),u=Math.sin(g*Math.PI/2)*f*h,p=-Math.cos(g*Math.PI/2)*f*h,M=r[a+1],E=(a+1)/(r.length-1),j=Math.sin(E*Math.PI/2)*f*M,S=-Math.cos(E*Math.PI/2)*f*M;e.beginPath(),e.moveTo(n/2+u,l+p),e.lineTo(n/2+j,l+S),e.moveTo(n/2-u,l+p),e.lineTo(n/2-j,l+S),e.stroke()}return t},L=(t,s)=>{const o=t.getContext("2d");if(!o)throw Error("No context");const e=t.width,n=t.height;o.clearRect(0,0,e,n),o.fillStyle="#fff2",o.fillRect(0,0,e,1),o.fillRect(0,0,1,n),o.strokeStyle="#fff";const l=P(s);{o.beginPath();for(let r=0;r<e;++r){const a=z(l,r/e);o.lineTo(r,a*n)}o.stroke()}o.fillStyle="#fff";const i=_(k.wrapp.sizes["s--"]);return s.forEach(r=>{o.beginPath(),o.arc(r[0]*e,r[1]*n,i,0,Math.PI*2),o.fill()}),t},$={test:[[0,.6],[.2,.6],[.4,.6],[.6,.6],[.8,.6],[1,.6]],common:[[0,.3],[.1,.8],[.2,.8],[.3,.8],[.4,.8],[.5,.8],[.6,.8],[.7,.8],[.8,.8],[.9,.8],[1,.8]],desir:[[0,.3],[.1,.8],[.5,.83],[.9,.8],[1,.7]]},w=document.getElementById("curves-canvas"),B=document.getElementById("scattering-profile-canvas"),D=t=>{L(w,t),N(B,t)};L(I(w),$.desir);N(I(B),$.desir);let m=$.desir;w.addEventListener("contextmenu",t=>{t.preventDefault()});w.addEventListener("mousedown",t=>{t.cancelBubble=!0,t.stopPropagation(),t.preventDefault();var s=t.target.getBoundingClientRect(),o=t.clientX-s.left,e=t.clientY-s.top;const n=[o/w.width,e/w.height];let l=!0;m.forEach((i,r)=>{if(Math.sqrt(Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2))<.1){switch(t.button){case 0:r===0?n[0]=0:r===m.length-1&&(n[0]=1),m[r]=n;break;case 2:r>0&&r<m.length-1&&m.splice(r,1);break}l=!1}}),l&&t.button===0&&(m=[...m,n].sort((i,r)=>i[0]-r[0])),D(m)});
