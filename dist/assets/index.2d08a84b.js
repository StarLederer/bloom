(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();const b={wrapp:{colors:{static:{abs:{base:{dark:{s:0,l:0}},on:[{dark:{s:10,l:100}}]},def:{base:{dark:{s:10,l:5}},on:[{dark:{s:10,l:90}},{dark:{s:20,l:80}},{dark:{s:20,l:60}},{dark:{s:20,l:40}},{dark:{s:10,l:10}}]},srf:{base:{dark:{s:40,l:20,a:10}},on:[{dark:{s:100,l:80}},{dark:{s:40,l:60}}]},srf2:{base:{dark:{s:40,l:40,a:20}},on:[{dark:{s:20,l:80}}]}},interactive:{int:{base:{dark:{s:100,l:60},light:{l:60}},on:[{dark:{s:100,l:10},light:{l:10}},{dark:{s:100,l:20},light:{l:10}},{dark:{s:100,l:40},light:{l:10}}]},int2:{base:{dark:{s:80,l:40,a:40},light:{s:90}},on:[{dark:{s:100,l:80}},{dark:{s:100,l:60}}]},int3:{base:{dark:{s:60,l:60,a:10}},on:[{dark:{s:10,l:80}}]},int4:{base:{dark:{s:20,l:20,a:20}},on:[{dark:{s:10,l:80}}]}}},sizes:{min:"1px",0:"0rem","s--":"0.2rem","s-":"0.4rem",s:"0.5rem","s+":"0.6rem","s++":"0.8rem",m0:"1rem","m--":"2rem","m-":"4rem",m:"5rem","m+":"6rem","m++":"8rem",l0:"10rem","l--":"20rem","l-":"40rem",l:"50rem","l+":"60rem","l++":"80rem",xl0:"100rem"}}},c=t=>t.filter(Boolean).join("-"),k=(t,s,e,n,o)=>[o(c([t,s]),c([e,n])),o(c([t,"b",s]),c([e,"block",n])),o(c([t,"bs",s]),c([e,"block-start",n])),o(c([t,"be",s]),c([e,"block-end",n])),o(c([t,"i",s]),c([e,"inline",n])),o(c([t,"is",s]),c([e,"inline-start",n])),o(c([t,"ie",s]),c([e,"inline-end",n]))],p=t=>`hsla(var(--hue), var(--col-${t}-s), var(--col-${t}-l), var(--col-${t}-a));`,y=t=>`hsl(var(--hue), var(--col-${t}-s), calc(var(--col-${t}-l) + var(--highlight)), var(--col-${t}-a));`,j=(t,s)=>[new RegExp(`^(${t})-(.+)$`),(e,{theme:n})=>{const o={};return n.wrapp.colors.static[e[2]]!==void 0&&(o[s]=p(e[2])),n.wrapp.colors.interactive[e[2]]!==void 0&&(o[s]=y(e[2])),o}],P=t=>[new RegExp(`^(${t})-(.+)$`),(s,{theme:e})=>{const n={},o=e.wrapp.colors.static[s[2]];o!==void 0&&(n.background=p(s[2]),o.on.forEach((i,l)=>{n[`--fg${l}`]=p(`on-${s[2]}-${l}`)}));const r=e.wrapp.colors.interactive[s[2]];return r!==void 0&&(n.background=y(s[2]),r.on.forEach((i,l)=>{n[`--fg${l}`]=y(`on-${s[2]}-${l}`)})),n.color="var(--fg0)",n}],S=(t,s)=>[new RegExp(`^(${t})-(.+)$`),(e,{theme:n})=>{const o={};return o[s]=`var(--fg${e[2]})`,o}],f=(t,s)=>[new RegExp(`^(${t})-(.+)$`),(e,{theme:n})=>{const o={};return o[s]=n.wrapp.sizes[e[2]],o}],w=(t,s,e,n)=>k(t,s,e,n,f);[new RegExp("^(hue)-(.+)$"),P("bg"),...k("border","color","border","color",j),...k("border","color-fg","border","color",S),j("text","color"),S("text-fg","color"),f("text","font-size"),f("width","width"),f("height","height"),f("min-width","min-width"),f("min-height","min-height"),...w("inset","","inset",""),...w("pd","","padding",""),...w("mg","","margin",""),f("round","border-radius"),f("gap","gap"),f("gap-col","column-gap"),f("gap-row","row-gap")];const C=t=>t*parseFloat(getComputedStyle(document.documentElement).fontSize),N=t=>Number(t.slice(0,-3))*parseFloat(getComputedStyle(document.documentElement).fontSize),R=t=>(t.width=C(Number(b.wrapp.sizes["l--"].slice(0,-3))),t.height=C(Number(b.wrapp.sizes["l--"].slice(0,-3))),t),L=(t,s,e)=>t+(s-t)*e,B=t=>{let s=0;return t.map(e=>{const n=[e[0]-s,e[1]];return s+=n[0],n})},_=(t,s)=>{let e=t[0][0];for(let n=0;n<t.length-1;++n)if(e+=t[n+1][0],s<e)return[t[n],t[n+1],e];return[t[t.length-2],t[t.length-1],e]},O=(t,s)=>{let[e,n,o]=_(t,s),r=o-n[0],i=(s-r)/n[0];return L(e[1],n[1],i)},F=t=>{const s=Array(t.length+1).fill(1);for(let e=s.length-1;e>=1;--e){for(let n=e;n<s.length;++n)s[n]*=t[e-1][1];s[e-1]*=1-t[e-1][1]}return s},T=(t,s)=>{const e=t.getContext("2d");if(!e)throw Error("No context");const n=t.width,o=t.height,r=F(s);e.clearRect(0,0,n,o),e.strokeStyle="#fff2",r.forEach((i,l)=>{const a=l>0?s[l-1][0]:0,d=n/2,h=Math.sin(a*Math.PI/2)*d,g=-Math.cos(a*Math.PI/2)*d;e.beginPath(),e.moveTo(n/2,o),e.lineTo(n/2+h,o+g),l>0&&(e.moveTo(n/2,o),e.lineTo(n/2-h,o+g)),e.stroke()}),e.strokeStyle="#fff4",r.forEach((i,l)=>{const a=l>0?s[l-1][0]:0,d=n/2,h=Math.sin(a*Math.PI/2)*d*i,g=-Math.cos(a*Math.PI/2)*d*i;e.beginPath(),e.moveTo(n/2,o),e.lineTo(n/2+h,o+g),l>0&&(e.moveTo(n/2,o),e.lineTo(n/2-h,o+g)),e.stroke()}),e.strokeStyle="#fff";for(let i=0;i<r.length-1;++i){const l=n/2,a=r[i],d=i>0?s[i-1][0]:0,h=Math.sin(d*Math.PI/2)*l*a,g=-Math.cos(d*Math.PI/2)*l*a,v=r[i+1],$=i>0?s[i][0]:0,M=Math.sin($*Math.PI/2)*l*v,E=-Math.cos($*Math.PI/2)*l*v;e.beginPath(),e.moveTo(n/2+h,o+g),e.lineTo(n/2+M,o+E),e.moveTo(n/2-h,o+g),e.lineTo(n/2-M,o+E),e.stroke()}return t},I=(t,s)=>{const e=t.getContext("2d");if(!e)throw Error("No context");const n=t.width,o=t.height;e.clearRect(0,0,n,o),e.fillStyle="#fff2",e.fillRect(0,0,n,1),e.fillRect(0,0,1,o),e.strokeStyle="#fff";const r=B(s);{e.beginPath();for(let l=0;l<n;++l){const a=O(r,l/n);e.lineTo(l,a*o)}e.stroke()}e.fillStyle="#fff";const i=N(b.wrapp.sizes["s--"]);return s.forEach(l=>{e.beginPath(),e.arc(l[0]*n,l[1]*o,i,0,Math.PI*2),e.fill()}),t},x={test:[[0,.6],[.2,.6],[.4,.6],[.6,.6],[.8,.6],[1,.6]],common:[[0,.3],[.1,.8],[.2,.8],[.3,.8],[.4,.8],[.5,.8],[.6,.8],[.7,.8],[.8,.8],[.9,.8],[1,.8]],desir:[[0,.3],[.1,.8],[.5,.83],[.9,.8],[1,.7]]},m=document.getElementById("curves-canvas"),z=document.getElementById("scattering-profile-canvas"),q=t=>{I(m,t),T(z,t)};I(R(m),x.desir);T(R(z),x.desir);let u=x.desir;m.addEventListener("contextmenu",t=>{t.preventDefault()});m.addEventListener("mousedown",t=>{t.cancelBubble=!0,t.stopPropagation(),t.preventDefault();var s=t.target.getBoundingClientRect(),e=t.clientX-s.left,n=t.clientY-s.top;const o=[e/m.width,n/m.height];let r=!0;u.forEach((i,l)=>{if(Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2))<.1){switch(t.button){case 0:l===0?o[0]=0:l===u.length-1&&(o[0]=1),u[l]=o;break;case 2:l>0&&l<u.length-1&&u.splice(l,1);break}r=!1}}),r&&t.button===0&&(u=[...u,o].sort((i,l)=>i[0]-l[0])),q(u)});
